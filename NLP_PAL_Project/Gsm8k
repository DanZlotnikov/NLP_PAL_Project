using System;
using NLP_PAL_Project.Models;

namespace NLP_PAL_Project
{
    class Gsm8k
    {

public class QuestionObj
    {
        public int Id { get; set; }
        public string Intro { get; set; }
        public string ExampleQuestion { get; set; }
        public string ExampleAnswer { get; set; }
        public string RealQuestion { get; set; }
    }

   
public static async Task<List<QuestionObj>> ReadQuestionsFromJsonAsync(string filePath)
        {
            List<QuestionObj> questionObjs = new List<QuestionObj>();

            using (StreamReader reader = new StreamReader(filePath))
            {
                int id = 1;
                while (!reader.EndOfStream)
                {
                    string line = await reader.ReadLineAsync();
                    var data = JsonSerializer.Deserialize<Dictionary<string, string>>(line);

                    QuestionObj questionObj = new QuestionObj
                    {
                        Id = id,
                        ExampleQuestion = "Q: There were nine computers in the server room. Five more computers were installed each day, from monday to thursday. How many computers are now in the server room?",
                        ExampleAnswer = "A: # solution in Python:\r\n\"\"\"There were nine computers in the server room. Five more computers were installed each day, from monday to thursday. How many computers are now in the server room?\"\"\"\r\ncomputers_initial = 9\r\ncomputers_per_day = 5\r\nnum_days = 4  # 4 days between monday and thursday\r\ncomputers_added = computers_per_day * num_days\r\ncomputers_total = computers_initial + computers_added\r\nresult = computers_total\r\nreturn result",
                        Realuestion = data["question"],
                        RealAnswer = data["answer"]
                    };

                    questionObjs.Add(questionObj);
                    id++;
                }
            }

            return questionObjs;
        }

}

}

